<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<input type="button" class="game" value="剪刀" />
		<input type="button" class="game" value="石頭" />
		<input type="button" class="game" value="布" />
		<hr />
		<p>贏: <span id="win">0</span>輸: <span id="lose">0</span>平手: <span id="draw">0</span></p>
		<ul id="ul"></ul>
		<script>
			const game = document.getElementsByClassName("game");
			const win = document.getElementById("win");
			const lose = document.getElementById("lose");
			const draw = document.getElementById("draw");
			// 電腦隨機出拳
			const result = () => {
				const choices = ["剪刀", "石頭", "布"];
				const randomIndex = Math.floor(Math.random() * choices.length);
				return choices[randomIndex];
			};
			// 與電腦猜拳
			for (const btn of game) {
				btn.onclick = () => {
					// 玩家出拳
					const player = btn.value; // event.target 呼叫值
					// 電腦出拳
					const computer = result();
					// 勝負
					const last = () => {
						if (player === computer) {
							draw.innerText++;
							return "平手";
						} else if ((player === "剪刀" && computer === "布") || (player === "石頭" && computer === "剪刀") || (player === "布" && computer === "石頭")) {
							win.innerText++;
							return "贏";
						} else {
							lose.innerText++;
							return "輸";
						}
					};
					// 結果
					const winOrLose = last();
					alert(`玩家出${btn.value}，電腦出${computer}，${winOrLose}`);
					ul.innerHTML += `<li>玩家出${btn.value}，電腦出${computer}，${winOrLose}</li>`;
				};
			}
		</script>
	</body>
</html>
